<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Denuncias registradas</title>
  </head>
  <body>
    <h1>Listado de denuncias</h1>
    <table border="1">
      <thead>
        <tr>
          <th>ID</th>
          <th>Título</th>
          <th>Producto</th>
          <th>Descripción</th>
          <th>Clasificación</th>
          <th>Estatus</th>
        </tr>
      </thead>
      <tbody id="tabla-denuncias"></tbody>
    </table>

    <script>
      async function cargarDenuncias() {
        const res = await fetch("/denuncias");
        const denuncias = await res.json();

        const tbody = document.getElementById("tabla-denuncias");
        tbody.innerHTML = "";

        denuncias.forEach((d) => {
          const fila = document.createElement("tr");
          fila.innerHTML = `
          <td>${d.id}</td>
          <td>${d.titulo}</td>
          <td>${d.producto}</td>
          <td>${d.descripcion}</td>
          <td>${d.clasificacion}</td>
          <td>${d.estatus}</td>
        `;
          tbody.appendChild(fila);
        });
      }

      cargarDenuncias();
    </script>
  </body>
</html>
